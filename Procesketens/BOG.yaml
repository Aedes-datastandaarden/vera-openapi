openapi: '3.0.0'
info:
  title: 'Beheer Overeenkomstgegevens'
  description: 'API-specificatie van procesketengegevensmodel BOG'
  termsOfService: 'https://www.stichting-vera.nl/voorwaarden/'
  contact:
    name: 'VERA'
    url: 'https://www.stichting-vera.nl/'
    email: 'info@stichting-vera.nl'
  license:
    name: 'General Public License (GPL)'
    url: 'https://www.gnu.org/licenses/gpl-3.0.en.html'
  version: '1.0.3'
servers:
  - url: https://bog.vera.io:{port}/{basePath}
    description: 'Productieserver'
    variables:
       port:
         enum:
           - '8443'
           - '443'
         default: '443'
       basePath:
         default: v1
tags:
- name: 'Overeenkomsten'
  description: 'Operaties met betrekking tot overeenkomsten'
paths:
  /overeenkomsten:
    get:
      tags:
      - 'Overeenkomsten'
      description: 'Ophalen van overeenkomsten'
      operationId: 'readovereenkomsten'
      parameters:
      - name: 'params'
        in: 'query'
        style: 'form'
        explode: true
        schema:
          oneOf:
                - $ref: '#/components/schemas/Overeenkomsten-Huurovereenkomst'

      responses:
        '200':
          description: 'Overeenkomst response'
          content:
            'application/json':
              schema:
                type: 'array'
                items:
                  oneOf:
                        - $ref: '#/components/schemas/Overeenkomsten-Huurovereenkomst'
        '401':
           $ref: '#/components/responses/NietGeautoriseerd'
        default:
          description: 'Onverwachte fout'
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/Foutbericht'
    post:
      tags:
      - 'Overeenkomsten'
      description: 'Voegt een nieuw(e) Overeenkomst toe.'
      operationId: 'createOvereenkomst'
      requestBody:
        description: 'Overeenkomst om toe te voegen'
        content:
          application/json:
            schema:
              oneOf:
                - $ref: '#/components/schemas/Overeenkomsten-Huurovereenkomst'

      responses:
        '401':
           $ref: '#/components/responses/NietGeautoriseerd'
        '405':
          description: 'Foutieve invoer'
    put:
      tags:
      - 'Overeenkomsten'
      description: 'Vervangen van een Overeenkomst'
      operationId: 'replaceOvereenkomst'
      requestBody:
        description: 'Overeenkomst om te vervangen'
        content:
          application/json:
            schema:
              oneOf:
                - $ref: '#/components/schemas/Overeenkomsten-Huurovereenkomst'

      responses:
        '200':
          description: 'Overeenkomst succesvol vervangen'
        '401':
           $ref: '#/components/responses/NietGeautoriseerd'
        default:
          description: 'Onverwachte fout'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Foutbericht'
    patch:
      tags:
      - 'Overeenkomsten'
      description: 'Wijzigen van een Overeenkomst'
      operationId: 'modifyOvereenkomst'
      requestBody:
        description: 'Overeenkomst om te wijzigen'
        content:
          application/json:
            schema:
              oneOf:
                - $ref: '#/components/schemas/Overeenkomsten-Huurovereenkomst'

      responses:
        '200':
          description: 'Overeenkomst succesvol gewijzigd'
        '401':
           $ref: '#/components/responses/NietGeautoriseerd'
        default:
          description: 'Onverwachte fout'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Foutbericht'
  /overeenkomsten/{id}:
    get:
      tags:
      - 'Overeenkomsten'
      description: 'Retourneert een Overeenkomst met de gegeven identifier'
      operationId: 'findOvereenkomstById'
      parameters:
      - name: 'id'
        in: 'path'
        description: 'Id van Overeenkomst om op te halen'
        required: true
        schema:
          type: 'integer'
          format: 'int64'
      responses:
        '200':
          description: 'Overeenkomst response'
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/Overeenkomsten-Huurovereenkomst'
        '401':
           $ref: '#/components/responses/NietGeautoriseerd'
        default:
          description: 'Onverwachte fout'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Foutbericht'
security:
  - basicAuth: []
components:
  headers:
    X_Pagination_Page:
      schema:
        type: integer
        description: Huidige pagina.
        example: 3
    X_Pagination_Limit:
      schema:
        type: integer
        description: Aantal resultaten per pagina.
        example: 20
    X_Stuurgegevens_TijdstipBericht:
      schema:
        type: string
        format: data-time
        description: Tijdstip waarop het bericht verzonden is
    X_Stuurgegevens_Referentienummer:
      schema:
        type: string
        format: any
        description: Een unieke code voor correlatie
    X_Stuurgegevens_Zender:
      schema:
        type: string
        format: any
        description: Identificatie van de verzendende organisatie
  securitySchemes:
    basicAuth:
      type: http
      scheme: basic
  responses:
    NietGeautoriseerd:
      description: Authenticatie-informatie ontbreekt of is ongeldig
      headers:
        WWW_Authenticate:
          schema:
            type: string
  schemas:
    Overeenkomsten-Betaalgegeven:
      type: object
      properties:
        id:
          type: 'string'
          format: 'any'
          description: 'De primaire sleutel van het gegeven in het bronsysteem'
        code:
          type: 'string'
          format: 'any'
          description: 'De unieke code (Bijvoorbeeld om te tonen of te zoeken)'
        soort:
          $ref: '#/components/schemas/Referentiedata-restricted'
          description: 'Het soort betaalgegeven (bijvoorbeeld een bankrekening, paypall etc.).'
        begindatum:
          type: 'string'
          format: 'date'
          description: 'De begindatum van het betaalgegeven.'
        einddatum:
          type: 'string'
          format: 'date'
          description: 'De einddatum van het betaalgegeven.'
        primair:
          type: 'boolean'
          format: 'true-or-false'
          description: 'De aanduiding dat het betaalgegeven het primaire betaalgegeven betreft.'
        rekeningnummer:
          type: 'string'
          format: 'any'
          description: 'Het rekeningnummer.'
        rekeninghouder:
          type: 'string'
          format: 'any'
          description: 'De naam van de rekeninghouder.'
        rekeningPlaats:
          type: 'string'
          format: 'uri'
          description: 'Referentie naar Woonplaats in de vorm: vera/v4/woonplaatsen/12345'
        relatie:
          type: 'string'
          format: 'uri'
          description: 'Referentie naar Relatie in de vorm: vera/v4/relaties/12345'
        iban:
          type: 'string'
          format: 'any'
          description: 'Het International Bank Account Number. Identificeert elke rekeninghouder, inclusief bank en vestigingsland.'
        bic:
          type: 'string'
          format: 'any'
          description: 'Bank Identifier Code. Hierdoor komen internationale betalingsoverdrachten bij de juiste bank terecht. De BIC wordt ook wel SWIFT-adres of SWIFT-code genoemd.'
        incassowijze:
          $ref: '#/components/schemas/Referentiedata-restricted'
          description: 'De standaard incassowijze voor het betaalgegeven.'
        extra-attributen:
          description: 'Toegevoegde sleutel/waarde-paren'
          type: array
          items:
            $ref: '#/components/schemas/ExtraAttributen'
    Referentiedata-restricted:
      type: object
      properties:
        code:
          type: 'string'
          format: 'any'
          description: 'De unieke code (Bijvoorbeeld om te tonen of te zoeken) Bijvoorbeeld NL.'
        naam:
          type: 'string'
          format: 'any'
          description: 'De te tonen waarde van het referentiedata item. Bijvoorbeeld Nederlandse.'
        soort:
          $ref: '#/components/schemas/Referentiedata-restricted'
          description: 'De soort van het referentiedata item. Bijvoorbeeld nationaliteit.'
        parent:
          $ref: '#/components/schemas/Referentiedata-restricted'
          description: 'De bovenliggende referentiedata in het geval er sprake is van een hierarchische relatie tussen referentiedata.'
        sortering:
          type: 'string'
          format: 'any'
          description: 'De sorteervolgorde van de referentiedata anders dan alfabetisch.'
        extra-attributen:
          description: 'Toegevoegde sleutel/waarde-paren'
          type: array
          items:
            $ref: '#/components/schemas/ExtraAttributen'
    Overeenkomsten-Huurovereenkomst:
      allOf:
        - $ref: '#/components/schemas/Overeenkomsten-Overeenkomst'
        - type: object
          properties:
              status:
                $ref: '#/components/schemas/Referentiedata-restricted'
                description: ''
              opzegdatum:
                type: 'string'
                format: 'date'
                description: 'De datum dat de overeenkomst is opgezegd door de huurder.'
              opzegtermijn:
                $ref: '#/components/schemas/Referentiedata-restricted'
                description: 'De opzegtermijn van de overeenkomst.'
              waarborgsom:
                type: 'number'
                format: 'float'
                description: 'De hoogte van de waarborgsom op de overeenkomst. Bijvoorbeeld: voor een studentenkamer is de borg â‚¬103 voor een vrije sector woning is de borg 1 maand huur. '
              waarborgsomRente:
                type: 'number'
                format: 'float'
                description: 'De rente van de waarborgsom op de overeenkomst. Deze waarde wordt in Euro"s aangegeven en is cumulatief over de volledige looptijd van de huurovereenkomst.'
              prolongatieInterval:
                type: 'string'
                format: 'date-time'
                description: 'De interval die aangeeft na hoeveel tijd er wordt geprolongeerd op de overeenkomst.'
              prolongatieTotDatum:
                type: 'string'
                format: 'date'
                description: 'De overeenkomst is geprolongeerd tot deze datum'
              bepaaldeTijd:
                type: 'boolean'
                format: 'true-or-false'
                description: 'De waarde die aangeeft of er sprake is van een tijdelijke huurovereenkomst.'
              bijzondereDoelgroep:
                $ref: '#/components/schemas/Referentiedata-restricted'
                description: ''
              eindeReden:
                $ref: '#/components/schemas/Referentiedata-restricted'
                description: ''
              brutohuur:
                type: 'number'
                format: 'float'
                description: 'De brutohuur = netto huur + servicekosten. De brutohuurprijs is inclusief BTW.'
              rekenhuur:
                type: 'number'
                format: 'float'
                description: 'Het huurbedrag waarvoor een huurder huurtoeslag mag aanvragen.'
              huurHerzieningsdatum:
                type: 'string'
                format: 'date'
                description: 'De datum dat de huurprijs van de huurovereenkomst is aangepast.'
              incassowijze:
                $ref: '#/components/schemas/Referentiedata-restricted'
                description: 'De wijze van incasso waarop de huurovereenkomst wordt betaald.'
              incassomoment:
                $ref: '#/components/schemas/Referentiedata-restricted'
                description: 'Het moment waarop de incasso wordt gedaan.'
              afwijkendeBetaler:
                type: 'string'
                format: 'uri'
                description: 'Referentie naar Relatie in de vorm: vera/v4/relaties/12345'
              afwijkendeBetalerIncassowijze:
                $ref: '#/components/schemas/Referentiedata-restricted'
                description: 'De wijze van incasso waarop de huurovereenkomst wordt betaald door de afwijkende betaler.'
              bewakingsstatus:
                $ref: '#/components/schemas/Referentiedata-restricted'
                description: ''
              vervaltermijnInterval:
                type: 'string'
                format: 'date-time'
                description: 'De interval van de incasso vervaltermijn.'
              startBrutohuur:
                type: 'number'
                format: 'float'
                description: 'De bruto huur (bruto huurprijs) bij aanvang huurovereenkomst in euro"s.'
              startBrutoJaarinkomen:
                type: 'number'
                format: 'float'
                description: 'De hoogte van het bruto inkomen bij aanvang huurovereenkomst in euro"s. Dit is het inkomen van de hoofdhuurder waaraan bijvoorbeeld de BBSH (Besluit Beheer Sociale Huursector) normen kunnen worden getoetst.'
              startLeeftijd:
                type: 'integer'
                format: 'int32'
                description: 'De leeftijd van de hoofdhuurder bij aanvang huurovereenkomst in jaren.'
              maatschappelijkLabel:
                $ref: '#/components/schemas/Referentiedata-restricted'
                description: 'Het label waarmee het maatschappelijk en economisch  belang van de dienstverlening wordt aangegeven bij de verhuring: DAEB of niet-DAEB. Het label op de huurovereenkomst kan afwijken van het maatschappelijk label van de eenheid. Hiermee kan worden aangegeven dat een eenheid die behoort tot de niet-DAEB tak als DAEB-verhuring verantwoord moet worden.'
              opgezegd:
                type: 'boolean'
                format: 'true-or-false'
                description: ''
              redenOpzegging:
                $ref: '#/components/schemas/Referentiedata-restricted'
                description: ''
    Overeenkomsten-Overeenkomst:
      type: object
      properties:
        id:
          type: 'string'
          format: 'any'
          description: 'De primaire sleutel van het gegeven in het bronsysteem'
        code:
          type: 'string'
          format: 'any'
          description: 'De unieke code (Bijvoorbeeld om te tonen of te zoeken)'
        begindatum:
          type: 'string'
          format: 'date'
          description: 'De begindatum van de overeenkomst.'
        einddatum:
          type: 'string'
          format: 'date'
          description: 'De einddatum van de overeenkomst.'
        soort:
          $ref: '#/components/schemas/Referentiedata-restricted'
          description: 'Het soort overeenkomst. Dit kan bijvoorbeeld arbeidsovereenkomst of koopovereenkomst zijn.'
        detailSoort:
          $ref: '#/components/schemas/Referentiedata-restricted'
          description: 'Het detail soort overeenkomst. Bijvoorbeeld BOG (Bedrijfs Onroerend Goed).'
        voorlopigeEinddatum:
          type: 'string'
          format: 'date'
          description: ''
        volgnummer:
          type: 'string'
          format: 'any'
          description: 'Het volgnummer van de overeenkomst.'
        onderhoudsverzoeken:
          type: 'string'
          format: 'uri'
          description: 'Referentie naar Onderhoudsverzoek in de vorm: vera/v4/onderhoudsverzoeken/12345'
        ontbonden:
          type: 'boolean'
          format: 'true-or-false'
          description: ''
        redenOntbinding:
          $ref: '#/components/schemas/Referentiedata-restricted'
          description: 'De reden van de voortijdige ontbinding van de overeenkomst.'
        prijscomponenten:
          description: 'collectie'
          type: array
          items:
            $ref: '#/components/schemas/Overeenkomsten-Prijscomponent'
        betaalgegeven:
          $ref: '#/components/schemas/Overeenkomsten-Betaalgegeven'
          description: 'Het betaalgegeven waarmee of waarnaar de overeenkomst wordt betaald. Dit kan bijvoorbeeld het rekeningnummer zijn van de relatie.'
        versturen:
          type: 'boolean'
          format: 'true-or-false'
          description: 'De aanduiding of een afschrift van de overeenkomst moet worden gestuurd naar de relatie'
        versturenStatus:
          $ref: '#/components/schemas/Referentiedata-restricted'
          description: 'link'
        verstuurdatum:
          type: 'string'
          format: 'date-time'
          description: 'De datum waarop de overeenkomst is verstuurd.'
        eenheden:
          type: 'string'
          format: 'uri'
          description: 'Referentie naar Eenheid in de vorm: vera/v4/eenheden/12345'
        contractanten:
          type: 'string'
          format: 'uri'
          description: 'Referentie naar Relatie in de vorm: vera/v4/relaties/12345'
        extra-attributen:
          description: 'Toegevoegde sleutel/waarde-paren'
          type: array
          items:
            $ref: '#/components/schemas/ExtraAttributen'
    Overeenkomsten-Prijscomponent:
      type: object
      properties:
        id:
          type: 'string'
          format: 'any'
          description: 'De primaire sleutel van het gegeven in het bronsysteem'
        code:
          type: 'string'
          format: 'any'
          description: 'De unieke code (Bijvoorbeeld om te tonen of te zoeken)'
        soort:
          $ref: '#/components/schemas/Referentiedata-restricted'
          description: 'Geeft aan om welk soort prijscomponent het betreft. Bijvoorbeeld een component voor een eenheid, of een component voor een overeenkomst.'
        detailSoort:
          $ref: '#/components/schemas/Referentiedata-restricted'
          description: 'Geeft aan om welk detail soort prijscomponent het betreft. Bijvoorbeeld of het om service kosten gaat.'
        subsidieSoort:
          $ref: '#/components/schemas/Referentiedata-restricted'
          description: 'Geeft aan of het prijscomponent onderdeel kan zijn van een subsidieregeling. Vooralsnog alleen van toepassing op de wet op de huurtoeslag.'
        begindatum:
          type: 'string'
          format: 'date-time'
          description: 'De begindatum van het prijscomponent. Dit is de datum waarop het prijscomponent van toepassing is.'
        einddatum:
          type: 'string'
          format: 'date-time'
          description: 'De datum die aangeeft dat het prijscomponent niet meer van toepassing is. Er is dan een nieuwer prijscomponent van toepassing.'
        bedrag:
          type: 'number'
          format: 'float'
          description: 'Het bedrag in euro"s van het prijscomponent exclusief BTW.'
        btw:
          $ref: '#/components/schemas/Referentiedata-restricted'
          description: 'De BTW van het prijscomponent.'
        extra-attributen:
          description: 'Toegevoegde sleutel/waarde-paren'
          type: array
          items:
            $ref: '#/components/schemas/ExtraAttributen'
    Overeenkomsten-Relatierol:
      type: object
      properties:
        id:
          type: 'string'
          format: 'any'
          description: 'De primaire sleutel van het gegeven in het bronsysteem'
        code:
          type: 'string'
          format: 'any'
          description: 'De unieke code (Bijvoorbeeld om te tonen of te zoeken)'
        soort:
          $ref: '#/components/schemas/Referentiedata-restricted'
          description: 'Het soort rol van de relatie. Bijvoorbeeld Klant, Prospect, Leverancier, Medewerker, Team etc.'
        begindatum:
          type: 'string'
          format: 'date'
          description: 'begindatum van de rol'
        einddatum:
          type: 'string'
          format: 'date'
          description: 'einddatum van de rol'
        relatie:
          type: 'string'
          format: 'uri'
          description: 'Referentie naar Relatie in de vorm: vera/v4/relaties/12345'
        extra-attributen:
          description: 'Toegevoegde sleutel/waarde-paren'
          type: array
          items:
            $ref: '#/components/schemas/ExtraAttributen'
    OvereenkomstenBetaalgegeven-sleutels:
      type: object
      properties:
        id:
          type: 'string'
          format: 'any'
          description: 'De primaire sleutel van het gegeven in het bronsysteem'
        code:
          type: 'string'
          format: 'any'
          description: 'De unieke code (Bijvoorbeeld om te tonen of te zoeken)'
    OvereenkomstenHuurovereenkomst-sleutels:
      type: object
      properties:
        id:
          type: 'string'
          format: 'any'
          description: 'De primaire sleutel van het gegeven in het bronsysteem'
        code:
          type: 'string'
          format: 'any'
          description: 'De unieke code (Bijvoorbeeld om te tonen of te zoeken)'
    OvereenkomstenOvereenkomst-sleutels:
      type: object
      properties:
        id:
          type: 'string'
          format: 'any'
          description: 'De primaire sleutel van het gegeven in het bronsysteem'
        code:
          type: 'string'
          format: 'any'
          description: 'De unieke code (Bijvoorbeeld om te tonen of te zoeken)'
    OvereenkomstenPrijscomponent-sleutels:
      type: object
      properties:
        id:
          type: 'string'
          format: 'any'
          description: 'De primaire sleutel van het gegeven in het bronsysteem'
        code:
          type: 'string'
          format: 'any'
          description: 'De unieke code (Bijvoorbeeld om te tonen of te zoeken)'
    OvereenkomstenRelatierol-sleutels:
      type: object
      properties:
        id:
          type: 'string'
          format: 'any'
          description: 'De primaire sleutel van het gegeven in het bronsysteem'
        code:
          type: 'string'
          format: 'any'
          description: 'De unieke code (Bijvoorbeeld om te tonen of te zoeken)'
    Foutbericht:
      type: 'object'
      properties:
        code:
          type: 'string'
        omschrijving:
          type: 'string'
    ExtraAttributen:
      type: 'object'
      properties:
        sleutel:
          type: 'string'
        waarde:
          type: 'string'
